<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <head>
	<title>The Happy/Coot Developer Diary</title>
	<!-- Changed by: Paul Emsley, 07-Mar-2008 -->
      </head>

  <body>
    <h1>The Happy Coot Developer Diary</h1>

<hr>
<p>Thu May  1 01:18:05 BST 2008

<p>Builds back to normal... (although the build hosts are dropping
like flies (now the RFC6 machine has gone west)).

<p> The key bindings - which are dynamic, of course - can now be
displayed in a gui dialog that is activated from the Extensions menu.
I need to add the static key bindings there too, I think.

<p>Bernhard and I are experimenting with/implementing a system to call
python functions from scheme and vica versa.  And have the return
values converted in the process.  The new side chain assignment
interface that he wrote (in Python) will be used that way.

<p>I write this from a bed and breakfast bed near Harvard Yard - I
flew to Boston today. Easy trip.  Now, I discover, immigration wants a
to scan all fingers for finger prints...

<p>Sun 27 Apr 11:05:44 2008 BST

<p>Oh, ha!  This is what I saw on checking the builds this morning:

<p> <a
href="http://www.biop.ox.ac.uk/emsley/pictures/various/Build-Summary-bad.png"><img
src="http://www.biop.ox.ac.uk/emsley/pictures/various/Build-Summary-bad-small.png"></a>.

<p>Yikes! a screen full of failure.  I'd forgotten to update the test
for key-bindings (I'd changed the function so that the bindings take a
name string, but not also updated the test). Fixed now.

<p>Sad to say I won't have much time to examine non-trivial items on
the TODO list for 0.5 until after the ACA.  I guess I'll have to push
back the release again.  I hadn't sufficiently account for
meetings/courses and other things.  Baah.


<hr>
<p>Sat Apr 26 05:01:19 BST 2008

<p>Leaving for home in a couple of hours.  Looking forward to getting
back and trying Hardy (I'll have to wipe out an Edgy to do it).


<hr>

<p>Fri Apr 25 22:12:16 BST 2008

<p> Just finished Finnish Bioxhit course (Oulu).  Was good (for me at
least).  I utterly broke the key bindings in the last presentation (in
an attempt to make a GUI that displayed them).  Bah.  With just one
minute more preparation, I could have fixed it.  Anyway, it works now
(of course) and has been added to the Extensions menu.

<p>I have some photos somewhere.

<p>The Fedora Core 6 binaries are no longer being build - that's
because the FC6 machine in York was upgraded to a F8 machine :-(.

<p>Also, possibly found why the Coot binaries became very unportable
when python was introduced.  Needs testing.

<p>After about 2 years of being broken, I fixed up the script that
converts svn to source code tar file while I was here (a stupid typo
in setting $PATH).

<p>However, the release (0.5) critical features has not been reduced
in about a month.  Badness, I've had to push back the release date a
month.

<p>I note that Bernhard has done something interesting with the icons
in the python extensions and I hope/think that this makes them
antialiased.  It would be nice to get the currently ugly icons fixed
up at last.

<hr>
<p>Fri Mar  7 17:57:17 GMT 2008

<p>I gave up trying to compile Gtk2+ from scratch.  Just too hard.
Now the build system of Coot requires Gtk+ 2.4 or better.  That seems
to be doing the trick.  I am using the "simple" build script to build
Fedora Gtk2 binaries in York.

<p>The molecule array to molecule vector transformation was a success.
Thank goodness for the test suite, which tripped over most of the bugs
(not all, it must be said).

<p>Recently, I have added Scheme and python interfaces to the getting and
setting of the monomer restraint information.  It was easier than I
thought it was going to be, (I expected it to be tricky and lengthy,
and in fact is was just lengthy).  Now this needs a GUI, which again I
suspect will be both lengthy and tricky to implement (taking more than
a day).

<p>"Additional Representations" are in the works too - this has taken a
bit of internal surgery - as I suspected, but it is OK elegance-wise.
I've currently got it working from the scripting layer.  Now I need to
create a gui so that the user can define a new representation by
filling in entry boxes.  Also, a gui to remove (undisplay)
representations.

<p>Also, the key binding mechanism has changed today.  Now there is an
external function add-key-binding which adds [a key number (currenlty)
and a thunk] to an association list (*key-bindings*).  Now
graphics-general-key-press-hook tests the key vs the association
list.  Much cleaner.

<p>Yesterday, I added a function "Save dialog positions" which saves a
state file and extracts from that the dialog positions and adds them
to the .coot file in $HOME.

<p>I learned the other day of a Chemical Components dictionary
distributed by the PDB.  I tried to get Coot to read it (it has more
than 5000 entries and over 1 million lines) but it failed.  That was
due to a line length limitation in mmdb's mmCIF parser it turned out.
Hopefully that will be resolved soon.  When it is, we will be able to
instantaneously (more or less) beam in any of those Components.
That'll be cool...

<p>We have a new splash screen for 0.5-pre.  From an actual photograph.

<hr>
<p>Thu 31 Jan 14:15:27 2008 GMT

<p>Back to "blogging", now that new system arrangements are somewhat
better.

<p>Two major projects going on at the same time.  One is to move the
molecules array to a vector.  Which means that there is no limit now
to the number of molecules that you can display.  Previously there was
a fixed limit of 50, and Coot would try to dynamically resize if you
went over that limit.  That was inelegant.  I've been meaning to do
this change for years.

<p>The other project is to get "Gtk+2 + python" binaries to autobuild.
What an utter pain this is turning out to be.  The package stack to
get Gtk+2 to build is about 10 packages (and counting) of twisty
interdependencies.  The dependencies for PyGtk are only slightly
better.  And I'm trying to get this to build from one script across
all platforms. Very tedious.

    <hr>
    <address><a href="mailto:paul dot emsley at bioch ox ac uk">Paul Emsley</a></address>
<!-- Created: Fri Jul 15 09:20:45 BST 2005 -->
<!-- hhmts start -->
Last modified: Thu May  1 08:37:35 BST 2008
<!-- hhmts end -->
  </body>
</html>
