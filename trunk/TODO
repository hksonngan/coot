
-*-text-*-

   What's Planned for the Upcoming Coot Releases?



-----

    Release 0.6 and 0.7 [April 2008, June 2009]

   Top commitments:

  o Edit a SHELXL file before refinement
* Done.
  o backrub on rotamer search
* Done.
  o Helix fitting overshoots
  o PISA output display
  o In the restraints editor, the volume sign should be displayed as 
    a string (generated from volume_string_int)
  o Make ligand fitting work from a given position (find the blob
    centre close and do the orientation search there)
* Done.
  o P backbone mode
* Done.

  Like to do:
  o redo sequence view
* Done.
  o Fix 64-bit coot problem(s)
* Done.

   o Add "centre molecule here" check button for reading coordinates
     Kevin M.

* Done


   o Seg Ids (Mailing list issue):

      At least in these two situations, I think that COOT could make a
      very educated guess as to the correct SEGID.

       * In mutate (simple or otherwise), COOT could carry over what
         existed for the residue being mutated

       * In "insert after terminal residue" COOT could carry over what
         exists for the terminal residue

      These might not always be correct, but they should be 99+% of
      the time.

* Done.

   o enable --splash-screen

* Done.

   o "CA mode" for nucleic acids should draw a P and C1' trace. [VR]
     Priority: 10, Difficulty: 4

* Done.

   o Does the window stay constant size (on something other than a
     laptop) on start, exit, start exit cycling?
     Priority: 6: Difficulty: 4

   o The lib dir should be set with AC_CHECK_LIB, not just "lib". Tim Fenn.
 
*  Let's hear from Tim Fenn.  OK, he replied.  Non-trivial.  OK, Punt to 0.6
   Done.

   o update map without generating a new molecule.
     Perhaps the NCS maps, or read a new map from MTZ updating a
     already existing map.

* Done.

  o Consider setting the "handled" flag only for key pressed that did
    something, e.g. we could then use the "B" and "S" keys, because they
    are not often used.  Maybe "A" too. Punt.

* Done.

  o Check out the virtualbox page on the ubuntu wiki for info about how
    to set it up. Punt.

  o What's crashing on using NCS in Bill's 0.5 build?  No idea.

* Problem gone now, I think.

   o Mails from Phil Evans, Stephen Graham, Early April 2008 about SEG
     ids.  Doing a NCS loop with Seg ids.  Doing a mutation with Segids
     (might be the same issue).  The segid for the new atoms should be
     inherited from those of the rest of the residue (if they are
     consistent).

* Done.

   o Give the user a chance to edit the ins file before it is sent off
     for refinement [Tobias Beck].  Not doing so, as currently,
     practically makes the shelxl refine in Coot useless if the user
     needs to modify the file.  Fire up a text widget with the .ins file
     in it.

* Done.

   o Rotamer plots need to update on multiple do/undos.

   o in coot_toolbuttons.py Bernhard registers the icons.  Does that
     make them smooth?

* Not relevant now.

   o Phil Evans wants colour by chain as the default.  Can you make
     this the default at coordinates read time (similarly, others want
     CA mode).

   o Put globularize protein into Coot.  Make it a bit more clever?

   o Garib wants a function to move waters close to the protein.

* Done.

   o Do the tutorial.  Are the blob numbers correct? (EJD 1008 May 23
     suggests not).

* Seems fine

   o check the "movie" interface

   o Use LSQ for NCS matrices - need to be user setable option.

   o Add the reading of a good map and a CNS map to tests.

   o Backrub-based auto-fit rotamer search.  Question: how do I test
     this? Synthetic map?  How does it work when we do this for an alt
     conf too?  Man, this will be powerful, if I can make it work. Don't
     forget to also rotate the mainchain hydrogens.  Does
     is_mainchain_atom() working for mainchain hydrogens?

* Done.

   o Investigate interupting long fitting/Post MR tools [JED request]

* Done.

   o add a mechanism where we can register functions to run after
     refinement and/or regularization. 

* Done.
  
     or deleting things says JED.  In fact, a funtion to run that is
      attached to a molecule (somehow) on any update/change/manipulation.

* Done.

   o Fix the DNA/RNA names test (penelope gtk2 old-tests).  1hd

* see what cootbb says...  Bill says add it (currently is skipped).

   o Bill: This might be hard to implement, but in case it isn't, I
     thought it might be worth suggesting...

     It would be great to be able to click on a nucleotide base in a
     single strand of DNA or RNA and generate its W/C partner...

* Done.

   o Fix up mini-RSR so that it compiles properly.

   o Use libglade

   o Rotate Translate: Add an additional GUI (possibly in the toolbar)
     to specify the type of R/T entity, a zone (default) a chain, a
     whole molecule.

   o Move widget functions in c-interface-build.cc to
     c-interface-gui.cc (or consider new c-interface-build-gui.cc).

   o Dynamic distances define need a pick cursor.

   o Put refine-zone and regularize-zone into the history.

   o multiple residue ranges, glycosylation, covalent bond entities
  
* Done.

   o Redo sequence view 

* Done.

   o check that the puckers of the ideal RNA/DNA is correct for A form
     and B form.  Try to find matrix example nucs for Z form.

* Done.

   o Centos/RHEL 4.6, has gtk2 version 2.4.13, fails to compile
     guile-gtk-2.1 out of the box. It didn't know about GtkAboutDialog,
     I think.  Also there were some extranaeous ^:^s in the .x
     files. 4hd.  
    
     Not going to get the hardware in before 0.5 is released.  Punt for 0.6.

* Done.

   o Hydrogens from a SHELXL molecule.  [What does this mean?]

   o Mouse bindings, consistency with MG.  Can we drag using middle
     mouse, instead of ctrl left mouse?  Needs abstraction of state in
     that function, I think.

   o helix fitting overshoots

   o Fix the DNA/RNA names test (penelope gtk2 old-tests).  1hd

* see what cootbb says...  Bill says add a thymine. 

   o consider making bonds to hydrogens thinner.  A spike needed to
     test for bonds split on thickness or colour most deeply.

   o Problem SHELX .ins file, enable bonds to symmetry atoms?

   o check for updates?

   o push back the rotation centre (for hardware stereo mode) in the
     viewport? [Mark Mayer 20080527].

   o Revisit CCP4mg button

   o Gtk2 coot: set the colour patch in the map properties and
     symmetry molecule colouring (needs version 2.6).  There is some
     problem in the update, how do I set continuous updates on the
     resulting colour chooser?

   o (un)Label atoms in given atom selection

   o More work on ligand bonding
       Things with Cl etc, 
       O->P bonds
       faster bonding with many molecules

   o colour by B-factor CA mode

   o Lasso (perhaps) active atoms to select atoms for R/Ting?  
     So that fragments of monomers can be moved independently

   o Update python files

   o Thymine in RNA: check string, "are you sure?" on finding a t.  If
     yes, sure add a Tr.  Need to add an O2' somehow to the reference Tr.

   o How about a post-swig command to add #ifdef USE_PYTHON around 
     coot_wrap_python.cc (or is it coot_wrap_python_pre.cc?)

     Is that necessary now?  In build-coot-fc4-gtk2,
     coot_wrap_python.cc is generated and so is an practically empty
     coot_wrap_python.lo

   o rotamer-score function needs to be filled

* Done.

   o "Find Waters" sometimes does not to put waters in what seems sensible
     places - why is that?

   o Calculate NCS matrices from molecules created by
     new_molecule_by_atom_selection()

   o Check the distribution of selection of phi/psis from
     random-phi-psi function matches a Ramachandran plot

   o Randy's side-by-side frame drawing?

   o Investigate communcation with PISA

   o "Fit ligand here" which gets a monomer then does a ligand search
     based on the blob at the current position.

* Done.

   o Non-bonded contacts.  Can they be speeded up.  What about nbcs
     with Hydrogens.  Are they good?  Refine 50 residues and profile.

   o Why does loop fitting fail on residue 96A of tutorial-modern.pdb?

   o Make fit-loop work backward.  

   o Profile the bonding on reading in a ribosome fragment. 2 minutes? 
     Not good.

   o Make a demo script that downloads data and runs it - add it to
     the package and make it available to run from extensions.

   o Fit a ligand.  Use write_connectivity to generate its hydrogens.
     Use reduce and probe to make ligand interactions (and render them).

   o Display ligand diapoles using charges from cif file.

* Done.

   o consider a function generator for dialog box of buttons.  Because
     we need a function that accepts args for close-dialog and one
     that does not.  A macro maybe.

   o Rotate/Translate a whole protein (many chains)

* Done.

   o When there is a non-square GL context, the axes become skewed.
     Needs othogonalizing.

   o Geometric distortions graph for alt confs - currently broken?

   o Update stand-alone refinement program. 
     (Write a test for it?)

* Update done. Tried test.  Problem in greg child process. Upgrade to
  guile-1.8.3.  Does that fix the greg child process problem?  If not,
  mail list.  And give up.  Check how greg behaves on compile/build - 
  it tests itself before install.

   o The zooming in out out of a Ramachandran plot is inelegant.
     Needs fixing.

   o Integrate scripting functions into main documentation somehow

   o I want to be able to interupt those MR Extensions - not have to
     wait.

   o When fitting waters in a low resolution(ish) map (from buccaneer
     tutorial), the water were often placed in protein density - it was
     missing the fact that the "water" density was connected to the
     protein density - because we only look at the masked map.
     (see bucca-tut on memory stick)

   o Use LSQ not SSM for NCS ghost matrix.
     (Make a speed test.)

   o *create* a molecule by symmetry, not (just) write it out.
      Consider a dialog to Write/Create a symmetry molecule.

* Done.

   o RNA backbone plot by connecting phosphates

* Done.

   o NCS bone skeleton search - like ncs6d?.  Can be punted, if needed.

   o a test for write connectivity 1hd

* Don't know how to test this.

   o Add to scripting layer: add-alt-conf that will work on the active
     residue.  Not sure if it should auto-accept.  I guess not. 

   o rsync to bubbles test data.

   o "Add a NAG/XXX?" to this ASN. look at using spin-search.  OK, a
     new spin-search is needed, where we spin all of a given residue
     round a bond specified in another residue.  This will involved some
     code refactoring.   ::: 4


   o Can we have a regularize-residues function?  That would be cool
     for fixing molecular models. ::: 2


   o Gtk2 coot: set the colour patch in the map properties and
     symmetry molecule colouring (needs version 2.6).  There is some
     problem in the update, how do I set continuous updates on the
     resulting colour chooser?  ::: 2 


   o PRE: Minor irritation: if I display the molecule as CA atoms
     only, clicking for naming or centering will still pick up the
     invisible non-CA atoms. It would be Nice if it didn't.  [Perhaps
     he means CA + ligs mode?] ::: 2
 

   o Tips should have a "No more tips" checkbuttons (Coot behaves like
     a proper program).

 
   o Request from Antony Oliver: Put an indicator for the current
     refinement map in (well, next to) the status bar.  Consider greying
     it out if the map is undisplayed.

   o Request from JED: Make the EDS map getter have a cancel button.
     And a progress bar ideally.

   o We need a function that does a renumber and rechain at the same time
     e.g. B 20-30  -> A 10-20
     In such a case we can't renumber then change the chain id.  
     Use it in merge-solvent-chains, and make merge-solvent-chains not need
     to renumber-waters first.

    o EJD: I want to do a Ramachandran plot of only a selection of residues.

    o EJD: I want the Ramachandran plot to be marked up if the atoms
      have zero occupancy.

    o Rebecca Vorhees(?) multiple residue ranges for the atom
      selection for rotate/translate (first) and rigid body fit.  And a
      GUI to make the ranges.

    o why is 'doc/c-interface_8h.texi' in the repository?  It should
      be generated.

    o Make the Go To Atom button be in the toolbar [Maia Cherney]



Punted from 0.6:

   o Ingo K.: Ctrl left-mouse dragging sometimes does not work for alt
     conf fragment residue.  Can't reproduce.  Punt.  Needs checking
     with Ingo.  (He means refinement?)

   o Does the window stay constant size (on something other than a
     laptop) on start, exit, start exit cycling?
     Priority: 6: Difficulty: 4  ::: 2

   o Fix up mini-RSR so that it compiles properly. ::: 4


   o Put refine-zone and regularize-zone into the history. ::: 2


   o consider making bonds to hydrogens thinner.  A spike needed to
     test for bonds split on thickness or colour most deeply.  ::: 5


   o Delay the reading of coords, mtzs, maps until after ~/.coot etc
     have been read (something like run_command_line_scripts()], see
     handle_command_line_data().  [Pete Meyer] ::: 2

   o Helix fitting overshoots - e.g.     
       1a02: place helix here at (9.2 36.6 28.3)
       1env: place helix here - many places.  Lots of errors.

       3cjb_sigmaa at (-22.9451 0.2204 20.011) fail.

       ::: 4


     o Markus Rudolf: 

  when updating to the latest gtk1 or gtk2 builds, we get this error:

  Gtk-WARNING **: invalid cast from `GtkLabel' to `GtkContainer'
  Gtk-CRITICAL **: file gtkcontainer.c: line 1119 (gtk_container_foreach): assertion `GTK_IS_CONTAINER (container)' failed.

  gtk1 build 1855 works fine. 

    Baah.  Can't reproduce.  Needs to be followed up. get startup
    script etc.

        ::: 1


   o Add add rep of a residue.  Change background to white.  Rotate
     view.  Ugliness! ::: 2 [Erik Vogan]


   o Garib wants a function to move (symmetry-related) waters close to
     the protein. ::: 4


   o Put the scripting window into the state file. How do we know if
     the scripting window is open at end time? ::: 1


   o Fixing atoms does not stop them from moving with
     rotate/translate.  Should it?  Yes, I think ::: 1

   o RNA/DNA backbone in symmetry.

   o For spin-searching the carbohydrate you need to give an atom spec
     for the spin vector atoms.

   o *create* a molecule by symmetry, not (just) write it out.
      Consider a dialog to Write/Create a symmetry molecule.  ::: 2

*  You need to supply a RTop, not a string symmetry operator though.
   We should have both, I suppose.  Punt.  Look at the
   symm_card_composition_t class in coot-shelx.hh.  Call it with the 
   passed string, and the loot at x_element, y_element, z_element (and 
   the frac_trans) to make a fractional matrix, which can be used in 
   new-molecule-by-symmetry.

   o How about a "recover" .coot-recover file that contains the view
     the saved pdb file, the molecule name (and whatever else is needed)
     so that on a crash, coot can elegantly recover.  That would be cool.

   o ROT_TRANS_TYPE_MULTI_RANGE, so that we can make a "setup" of
     rigid body refine at the scritping layer (currently rot/trans setup
     is only done by clicking).
     SCM rotate_translate_residue_ranges(int imol, SCM residue_ranges)

   o Env distances should have an "molecule number" attribute - when
     that molecule is not displayed, not show the env distances.

   o Tim Fenn library thing. 
     Actually, this looks horrific
 
   o Add a residue at residue number 2300 say and see if the sequence
     view behaves OK.

   o Phil Evans: can I set the NCS peer molecules myself so that NCS
     modificiations are not set to molecules to which I think they don't
     apply?

   o make sure that PDB cif r2wousf.ent.gz (or some such, that you get
     from the PDB works slickly as a cif file with sigmma maps).

   o Need to fix up the baton build interface to add start up only
     when there is a skeleton (of offer to do it).

   o Put guile-gui and net-http into main Coot package - this makes the 
     Ubuntu/Fedora packaging a lot easier.

   o Add an option to do sphere refinement in all molecule
     Ramachandran refinement

   o KH:
      In baton build, make it work more clearly when starting
      with no skeleton.
      ->  ask me to make a skeleton



0.6.1 

   o sphere-refine:  turn on rama restraints for restraints from residue_vec.
     make_link_restraints_by_linear() has
     if (do_rama_plot_restraints)
       add_rama_links(selHnd, geom);

    make_link_restraints_from_res_vec() has
    add_rama_links_from_res_vec(), but that is not filled.
    need something like bonded_residues_from_res_vec(), but for
    residue triples - returning 3 residues.
    ::: 3

   o consider applying 0001-Replace-goosh-module-with-os-process-from-guile-lib.patch

   o consider guile-lib's unit test, not greg.

   o OXT in refinement (e.g. monomer-BCS.pdb) fails to reach convergence.

   o the get_clash_score() in backrub_rotamer should work with a
     (pre-generated) selection of residues - rather than the whole
     molecule - which should speed things up a lot (especially for large
     molecules).

   o HK: I want a function to set the refinment weight for me, 
     i.e.  it should do a triple refine and look at the chi squareds.
     Keep doing that with different weights until we get to 1.0.

   o Find Waters: why does it miss some nice densities sometimes?

   o Use libcurl to get URLs.  It does proxies.  Stop using nethttp.


 ------


 0.7 Priorities:

   o Rotate/Translate on dsDNA (for example)

* Done.

   o Move (symmetry-related) waters around protein (or has this been
     done by now?)

* Done.

   o CA (or CA + ligs?) mode, edit bond colours -> Changes the colour
     of the first chain only.   ::: 1

* Done.

   o Rotation for add terminal residue.  hari jayaram & Donald Raymond
   ::: 2

* Bleugh

   o mutate-by-overlap: if you have already loaded a molecule with a
     single residue with name XXX and you have read in a dictionary
     entry for XXX, then coot should use that. [ Tickle, 20090723]  ::: 3

   o to make the rotamer probabilites smooth, FFT them like
     Otwinovski's Ramachachandran plots.  FFTW in mult-dimentions.  Hmm.

 ------
    
    Release 0.8 [Sept 2009]

   o Use libglade.


   o make minimol's addresidue() work with inscodes.  e.g. the 52A PRO
   in "Autofit Rotamer on Residues with Insertion codes" test. (see
   that an exception is thrown in backrub_rotamer search().)


   o 	We need to activate this: graphics_info_t::execute_add_terminal_residue
        // just shove it on without a map (i.e. add a residue with no map)

   o rewrite the SSM alignment output in a more robust and more
     simple-minded manner.

   o User pickable atoms.

* Done.

   o sort out the problem with the color wheel colour chooser from the
     colour-picker/patch widget for maps.  This needs to update the map 
     colour dynamically.

   o sort out the includes so that I use -I .. and
     #include "ideal/geometry.hh" etc.

   o Other Button: tw & penny

   o handle links properly (as above).

   o multiple representations?
  
   o Add Terminal Residue should pick up from the assigned sequence.
     Should work for bases too.

   o mutate residue range for bases

* Done.

   o Fix leak and deprecated functions message.

* Half done

   o Bring partial charges to electrostatic surface

* Done.

   o Activate molecule_class_info_t deconstuctor.  

* No need now.

   o Add parentheses if they are missing from an interactive scripting
     command

   o Make the N and M zoom keys work with multiframes, rather than a
     step/jump in zoom.

* Done!

   o RNA rotamer analysis "What is the rotamer of this suite here?"


   o Maia Cherney: 
 
     The general torsion function is not as good as the torsion in old
     X-fit. In x-fit you click on two atoms of a single bond and you
     can rotate the rest of the molecule around that bond. This bond
     can be in the middle of the main chain etc. It's a very useful
     function, if you need to rotate a polypeptide around a single
     bond. 


------

   Release 0.9, Facelift-release [Dec 2009]

   o Handle Oxidized cysine - with a modification

   o Alex Luso: Thu 14 May 01:42:09 2009 BST
     I wonder if adding the function as buttons on the
     baton window would be useful? (i.e. "Build Backwards" and "Build
     Forwards" - perhaps asking for user input as to the relevant
     res-num or guessing it). I think O does that. Just a thought.

* Done.

   o Clean up menu items, use Preferences.

* Done.

   o Internationalize (enable translations)

   o Switch to GTk2, guile1.8.  Dump Gtk1 interface, 

   o re-write build-it script

* Done.

   o read multiple files from shift and ctrl clicking in the file selection.

* Done.

-----
 
   Release 1.0 [April 2010]

